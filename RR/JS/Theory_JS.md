### 1. Введение:

##### [1.1 Введение в Java Script;](#11-введение-в-java-script)

##### [1.2 Справочники и спецификации;](#12-справочники-и-спецификации)

##### [1.3 Редакторы кода;](#13-редакторы-кода)

##### [1.4 Консоль разработчика.](#14-консоль-разработчика)

### 2. Основы JavaScript:

##### [2.1 Привет, мир!](#21-привет-мир)

##### [2.2 Структура кода]()

##### [2.3 Строгий режим — "use strict"]()

##### [2.4 Переменные]()

##### [2.5 Типы данных]()

##### [2.6 Взаимодействие: alert, prompt, confirm]()

##### [2.7 Преобразование типов]()

##### [2.8 Базовые операторы, математика]()

##### [2.9 Операторы сравнения]()

##### [2.10 Условное ветвление: if, '?']()

##### [2.11 Логические операторы]()

##### [2.12 Операторы нулевого слияния и присваивания: '??', '??=']()

##### [2.13 Циклы while и for]()

##### [2.14 Конструкция "switch"]()

##### [2.15 Функции]()

##### [2.16 Function Expression]()

##### [2.17 Стрелочные функции, основы]()

##### [2.18 Особенности JavaScript]()

---

# 1. Введение.

---

## 1.1 Введение в Java Script.

### [Что такое JavaScript?](#что-такое-javascript)

### [Что может JavaScript в браузере?](#что-может-javascript-в-браузере)

### [Чего НЕ может JavaScript в браузере?](#чего-не-может-javascript-в-браузере)

### [Что делает JavaScript особенным?](#что-делает-javascript-особенным)

### [Языки «над» JavaScript](#языки-над-javascript)

---

## Что такое JavaScript?

Изначально JavaScript был создан, чтобы **«сделать веб-страницы живыми»**.

Программы на этом языке называются **скриптами**. Они могут встраиваться в HTML и выполняться автоматически при загрузке веб-страницы.

Скрипты распространяются и выполняются, как простой текст. Им не нужна специальная подготовка или компиляция для запуска.

**Это отличает JavaScript от другого языка – Java.**

Сегодня JavaScript может выполняться не только в браузере, но и на сервере или на любом другом устройстве, которое имеет специальную программу, называющуюся «движком» JavaScript.

У браузера есть собственный движок, который иногда называют **«виртуальная машина JavaScript»**.

Разные движки имеют разные **«кодовые имена»**. Например:

- **V8** – в Chrome, Opera и Edge.
- **SpiderMonkey** – в Firefox.
- Ещё есть **«Chakra»** для IE, **«JavaScriptCore»**, **«Nitro»** и **«SquirrelFish»** для Safari и т.д.

Эти названия полезно знать, так как они часто используются в статьях для разработчиков.

Например, если **«функциональность X поддерживается V8»**, тогда _«Х»_, скорее всего, работает в _Chrome, Opera и Edge_.

#### Как работают движки?

1. Движок (встроенный, если это браузер) читает («парсит») текст скрипта.
2. Затем он преобразует («компилирует») скрипт в машинный язык.
3. После этого машинный код запускается и работает достаточно быстро.

Движок применяет оптимизации на каждом этапе. Он даже просматривает скомпилированный скрипт во время его работы, анализируя проходящие через него данные, и применяет оптимизации к машинному коду, полагаясь на полученные знания. В результате скрипты работают очень быстро.

## Что может JavaScript в браузере?

Современный JavaScript – это «безопасный» язык программирования. Он не предоставляет низкоуровневый доступ к памяти или процессору, потому что изначально был создан для браузеров, не требующих этого.

Возможности JavaScript сильно зависят от окружения, в котором он работает. Например, **Node.JS** поддерживает функции чтения/записи произвольных файлов, выполнения сетевых запросов и т.д.

В браузере для JavaScript доступно всё, что связано с манипулированием веб-страницами, взаимодействием с пользователем и веб-сервером.

**В браузере JavaScript может:**

- Добавлять новый HTML-код на страницу, изменять существующее содержимое, модифицировать стили.
- Реагировать на действия пользователя, щелчки мыши, перемещения указателя, нажатия клавиш.
- Отправлять сетевые запросы на удалённые сервера, скачивать и загружать файлы (технологии AJAX и COMET).
- Получать и устанавливать куки, задавать вопросы посетителю, показывать сообщения.
- Запоминать данные на стороне клиента («local storage»).

## Чего НЕ может JavaScript в браузере?

Возможности JavaScript в браузере ограничены ради безопасности пользователя. Цель заключается в предотвращении доступа недобросовестной веб-страницы к личной информации или нанесения ущерба данным пользователя.

**Примеры таких ограничений включают в себя:**

- JavaScript на веб-странице не может читать/записывать произвольные файлы на жёстком диске, копировать их или запускать программы. Он не имеет прямого доступа к системным функциям ОС.

Современные браузеры позволяют ему работать с файлами, но с ограниченным доступом, и предоставляют его, только если пользователь выполняет определённые действия, такие как «перетаскивание» файла в окно браузера или его выбор с помощью тега `<input>`.

Существуют способы взаимодействия с камерой/микрофоном и другими устройствами, но они требуют явного разрешения пользователя. Таким образом, страница с поддержкой JavaScript не может незаметно включить веб-камеру, наблюдать за происходящим и отправлять информацию в ФСБ.

- Различные окна/вкладки не знают друг о друге. Иногда одно окно, используя JavaScript, открывает другое окно. Но даже в этом случае JavaScript с одной страницы не имеет доступа к другой, если они пришли с разных сайтов (с другого домена, протокола или порта).

Это называется «Политика одинакового источника» (Same Origin Policy). Чтобы обойти это ограничение, обе страницы должны согласиться с этим и содержать JavaScript-код, который специальным образом обменивается данными.

Это ограничение необходимо, опять же, для безопасности пользователя. Страница https://anysite.com, которую открыл пользователь, не должна иметь доступ к другой вкладке браузера с URL https://gmail.com и воровать информацию оттуда.

- JavaScript может легко взаимодействовать с сервером, с которого пришла текущая страница. Но его способность получать данные с других сайтов/доменов ограничена. Хотя это возможно в принципе, для чего требуется явное согласие (выраженное в заголовках HTTP) с удалённой стороной. Опять же, это ограничение безопасности.

_Подобные ограничения не действуют, если JavaScript используется вне браузера, например — на сервере. Современные браузеры предоставляют плагины/расширения, с помощью которых можно запрашивать дополнительные разрешения._

## Что делает JavaScript особенным?

**Как минимум, три сильные стороны JavaScript:**

- Полная интеграция с HTML/CSS.
- Простые вещи делаются просто.
- Поддерживается всеми основными браузерами и включён по умолчанию.

**JavaScript – это единственная браузерная технология, сочетающая в себе все эти три вещи.**

avaScript позволяет делать приложения не только в браузерах, но и на **сервере, на мобильных устройствах и т.п.**

## Языки над JavaScript

Синтаксис JavaScript подходит не под все нужды. Разные люди хотят иметь разные возможности.

Это естественно, потому что проекты разные и требования к ним тоже разные.

Так, в последнее время появилось много новых языков, которые транспилируются (конвертируются) в JavaScript, прежде чем запустятся в браузере.

Современные инструменты делают транспиляцию очень быстрой и прозрачной, фактически позволяя разработчикам писать код на другом языке, автоматически преобразуя его в JavaScript «под капотом».

**Примеры таких языков:**

- [**CoffeeScript**](http://coffeescript.org) добавляет «синтаксический сахар» для JavaScript. Он вводит более короткий синтаксис, который позволяет писать чистый и лаконичный код. Обычно такое нравится Ruby-программистам.
- [**TypeScript**](https://www.typescriptlang.org) концентрируется на добавлении «строгой типизации» для упрощения разработки и поддержки больших и сложных систем. Разработан Microsoft.
- [**Flow**](https://flow.org) тоже добавляет типизацию, но иначе. Разработан Facebook.
- [**Dart**](https://dart.dev) стоит особняком, потому что имеет собственный движок, работающий вне браузера (например, в мобильных приложениях). Первоначально был предложен Google, как замена JavaScript, но на данный момент необходима его транспиляция для запуска так же, как для вышеперечисленных языков.
- [**Brython**](https://brython.info) транспилирует Python в JavaScript, что позволяет писать приложения на чистом Python без JavaScript.

## Итого

- JavaScript изначально создавался только для браузера, но сейчас используется на многих других платформах.
- Сегодня JavaScript занимает уникальную позицию в качестве самого распространённого языка для браузера, обладающего полной интеграцией с HTML/CSS.
- Многие языки могут быть «транспилированы» в JavaScript для предоставления дополнительных функций. Рекомендуется хотя бы кратко рассмотреть их после освоения JavaScript.

---

## 1.2 Справочники и спецификации

### [Спецификация](#спецификация)

### [Справочники](#справочники)

### [Таблицы совместимости](#таблицы-совместимости)

---

## Спецификация

[**Спецификация ECMA-262**](https://ecma-international.org/publications-and-standards/standards/ecma-262/) содержит самую глубокую, детальную и формализованную информацию о JavaScript. Она определяет сам язык.

Вначале спецификация может показаться тяжеловатой для понимания из-за слишком формального стиля изложения. Если вы ищете источник самой достоверной информации, то это правильное место, но она не для ежедневного использования.

Новая версия спецификации появляется каждый год. А пока она не вышла официально, все желающие могут ознакомиться с текущим черновиком на https://tc39.es/ecma262/.

Чтобы почитать о самых последних возможностях, включая те, которые «почти в стандарте» (так называемые «stage 3 proposals»), посетите https://github.com/tc39/proposals.

## Справочники

**MDN (Mozilla) JavaScript Reference** – это справочник с примерами и другой информацией. Хороший источник для получения подробных сведений о функциях языка, методах встроенных объектов и так далее.

Располагается по адресу https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference.

Хотя зачастую вместо их сайта удобнее использовать какой-нибудь интернет-поисковик, вводя там запрос «MDN [что вы хотите найти]», например https://google.com/search?q=MDN+parseInt для поиска информации о функции parseInt.

## Таблицы совместимости

**JavaScript** – это развивающийся язык, в который постоянно добавляется что-то новое.

Посмотреть, какие возможности поддерживаются в разных браузерах и других движках, можно в следующих источниках:

- http://caniuse.com – таблицы с информацией о поддержке по каждой возможности языка. Например, чтобы узнать, какие движки поддерживают современные криптографические функции, посетите: http://caniuse.com/#feat=cryptography.

- https://kangax.github.io/compat-table – таблица с возможностями языка и движками, которые их поддерживают и не поддерживают.

Все эти ресурсы полезны в ежедневной работе программиста, так как они содержат ценную информацию о возможностях использования языка, их поддержке и так далее.

Эти ссылки на случай, когда понадобится подробная информация о какой-нибудь конкретной возможности JavaScript.

---

## 1.3 Редакторы кода

### [IDE](#ide)

### [«Лёгкие» редакторы](#лёгкие-редакторы)

---

Большую часть своего рабочего времени программисты проводят в редакторах кода.

Есть два основных типа редакторов: IDE и «лёгкие» редакторы. Многие используют по одному инструменту каждого типа.

## IDE

Термином [**IDE**](https://ru.wikipedia.org/wiki/Интегрированная_среда_разработки) (Integrated Development Environment, «интегрированная среда разработки») называют мощные редакторы с множеством функций, которые работают в рамках целого проекта. Как видно из названия, это не просто редактор, а нечто большее.

IDE загружает проект (который может состоять из множества файлов), позволяет переключаться между файлами, предлагает автодополнение по коду всего проекта (а не только открытого файла), также она интегрирована с системой контроля версий (например, такой как [**git**](https://git-scm.com)), средой для тестирования и другими инструментами на уровне всего проекта.

Если вы ещё не выбрали себе IDE, присмотритесь к этим:

- [Visual Studio Code](https://code.visualstudio.com) (кросс-платформенная, бесплатная).
- [WebStorm](https://www.jetbrains.com/webstorm/) (кросс-платформенная, платная).

Для Windows есть ещё Visual Studio (не путать с Visual Studio Code). Visual Studio – это платная мощная среда разработки, которая работает только на Windows. Она хорошо подходит для .NET платформы. У неё есть бесплатная версия, которая называется [Visual Studio Community](https://visualstudio.microsoft.com/ru/vs/community/).

## Лёгкие редакторы

«Лёгкие» редакторы менее мощные, чем IDE, но они отличаются скоростью, удобным интерфейсом и простотой.

В основном их используют для того, чтобы быстро открыть и отредактировать нужный файл.

Главное отличие между «лёгким» редактором и IDE состоит в том, что **IDE работает на уровне целого проекта, поэтому она загружает больше данных при запуске, анализирует структуру проекта, если это необходимо**, и так далее. Если вы работаете только с одним файлом, то гораздо быстрее открыть его в «лёгком» редакторе.

На практике «лёгкие» редакторы могут иметь множество плагинов, включая автодополнение и анализаторы синтаксиса на уровне директории, поэтому границы между IDE и «лёгкими» редакторами размыты.

**Следующие варианты заслуживают вашего внимания:**

- [Sublime Text](http://www.sublimetext.com) (кроссплатформенный, условно-бесплатный).
- [Notepad++](https://notepad-plus-plus.org) (Windows, бесплатный).
- [Vim](https://www.vim.org) и [Emacs](https://www.gnu.org/software/emacs/) тоже хороши, если знать, как ими пользоваться.

---

## 1.4 Консоль разработчика

### [Google Chrome](#google-chrome)

### [Firefox, Edge и другие](#firefox-edge-и-другие)

### [Safari](#safari)

---

В браузер встроены «Инструменты разработки» (Developer tools или сокращённо — devtools). Для обнаружения ошибок в коде.

## Google Chrome

Откройте страницу [bug.html.](https://learn.javascript.ru/article/devtools/bug.html)

В её JavaScript-коде закралась ошибка. Она не видна обычному посетителю, поэтому давайте найдём её при помощи инструментов разработки.

Нажмите **F12** или, если вы используете Mac, **Cmd+Opt+J**.

По умолчанию в инструментах разработчика откроется вкладка Console (консоль).

* В консоли мы можем увидеть сообщение об ошибке, отрисованное красным цветом. В нашем случае скрипт содержит неизвестную команду «lalala».
* Справа присутствует ссылка на исходный код bug.html:12 с номером строки кода, в которой эта ошибка и произошла.

Под сообщением об ошибке находится синий символ >. Он обозначает командную строку, в ней мы можем редактировать и запускать JavaScript-команды. Для их запуска нажмите **Enter**.

**Многострочный ввод**
Обычно при нажатии **Enter** введённая строка кода сразу выполняется.

Чтобы перенести строку, нажмите **Shift+Enter**. Так можно вводить более длинный JS-код.

## Firefox, Edge и другие

Инструменты разработчика в большинстве браузеров открываются при нажатии на **F12.**

Их внешний вид и принципы работы мало чем отличаются. Разобравшись с инструментами в одном браузере, вы без труда сможете работать с ними и в другом.

## Safari

Safari (браузер для Mac, не поддерживается в системах Windows/Linux) всё же имеет небольшое отличие. Для начала работы нам нужно включить «Меню разработки» («Developer menu»).

Откройте Настройки (Preferences) и перейдите к панели «Продвинутые» (Advanced). В самом низу вы найдёте чекбокс: **Show Develop menu in menu bar**.

Теперь консоль можно активировать нажатием клавиш **Cmd+Opt+C**.

## Итого

* Инструменты разработчика позволяют нам смотреть ошибки, выполнять команды, проверять значение переменных и ещё много всего полезного.
* В большинстве браузеров, работающих под Windows, инструменты разработчика можно открыть, нажав F12. В Chrome для Mac используйте комбинацию Cmd+Opt+J, Safari: Cmd+Opt+C (необходимо предварительное включение «Меню разработчика»).

---

# 2. Основы JavaScript

---

## 2.1 Привет, мир!

### [Тег «script»](#тег-script)
### [Современная разметка](#современная-разметка)
### [Внешние скрипты](#внешние-скрипты)

---

Давайте посмотрим, как выполнить скрипт на странице. Для серверных сред (например, Node.js), вы можете выполнить скрипт с помощью команды типа "node my.js". Для браузера всё немного иначе.

## Тег script

Программы на JavaScript могут быть вставлены в любое место HTML-документа с помощью тега `<script>`.

**Для примера:**

`<!DOCTYPE HTML>`
`<html>`

`<body>`

 ` <p>Перед скриптом...</p>`

  `<script>`
    `alert( 'Привет, мир!' );`
  `</script>`

  `<p>...После скрипта.</p>`

`</body>`

`</html>`

Тег `<script>` содержит JavaScript-код, который автоматически выполнится, когда браузер его обработает.

## Современная разметка

Тег `<script>` имеет несколько атрибутов, которые редко используются, но всё ещё могут встретиться в старом коде:

Атрибут type: `<script type=…>`
Старый стандарт HTML, HTML4, требовал наличия этого атрибута в теге `<script>`. Обычно он имел значение **type="text/javascript"**. 
На текущий момент этого больше не требуется. Более того, в современном стандарте HTML смысл этого атрибута полностью изменился. Теперь он может использоваться для JavaScript-модулей. Но это тема не для начального уровня, и о ней мы поговорим в другой части учебника.

Атрибут language: `<script language=…>`
Этот атрибут должен был задавать язык, на котором написан скрипт. Но так как JavaScript является языком по умолчанию, в этом атрибуте уже нет необходимости.

Обёртывание скрипта в HTML-комментарии.
В очень древних книгах и руководствах вы сможете найти комментарии внутри тега `<script>`, например, такие:

`<script type="text/javascript"><!--`
`    ...`
`//--></script>`

Этот комментарий скрывал код JavaScript в старых браузерах, которые не знали, как обрабатывать тег `<script>`. 
Поскольку все браузеры, выпущенные за последние 15 лет, не содержат данной проблемы, такие комментарии уже не нужны. Если они есть, то это признак, что перед нами очень древний код.

## Внешние скрипты

Если у вас много JavaScript-кода, вы можете поместить его в отдельный файл.

Файл скрипта можно подключить к **HTML** с помощью атрибута **src**:

`<script src="/path/to/script.js"></script>`

Здесь **/path/to/script.js** – это абсолютный путь от корневой папки до необходимого файла. 
**Корневой папкой** может быть корень диска или корень сайта, в зависимости от условий работы сайта. 
Также можно указать **относительный путь** от текущей страницы. Например, **src="script.js"** или **src="./script.js"** будет означать, что файл **"script.js"** находится в текущей папке.

Можно указать и полный URL-адрес. **Например**:

`<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/3.2.0/lodash.js"></script>`

Для подключения нескольких скриптов используйте несколько тегов:

`<script src="/js/script1.js"></script>`
`<script src="/js/script2.js"></script>`

**На заметку:**
Как правило, только простейшие скрипты помещаются в HTML. Более сложные выделяются в отдельные файлы.

Польза отдельных файлов в том, что браузер загрузит скрипт отдельно и сможет хранить его в [кеше](https://en.wikipedia.org/wiki/Web_cache).

Другие страницы, которые подключают тот же скрипт, смогут брать его из кеша вместо повторной загрузки из сети. И таким образом файл будет загружаться с сервера только один раз.

**Это сокращает расход трафика и ускоряет загрузку страниц.**

Если атрибут src установлен, содержимое тега script будет игнорироваться.
В одном теге`<script>` нельзя использовать одновременно атрибут src и код внутри.

**Нижеприведённый пример не работает:**

`<script src="file.js">`
  `alert(1);` // содержимое игнорируется, так как есть атрибут src
`</script>`

Нужно выбрать: либо внешний скрипт `<script src="…">,` либо обычный код внутри тега `<script>`.

**Вышеприведённый пример можно разделить на два скрипта:**

`<script src="file.js"></script>`
`<script>`
 `alert(1);`
`</script>`

## Итого

* Для добавления кода JavaScript на страницу используется тег` <script>`
* Атрибуты **type** и **language** необязательны.
* Скрипт во внешнем файле можно вставить с помощью `<script src="path/to/script.js"></script>.`



